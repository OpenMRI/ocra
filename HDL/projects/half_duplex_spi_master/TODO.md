Important issues remaining on this core
- [x] Reading doesn't shift into correct bits (off by one) (done)
- [x] To fabric FIFO transfer does not finnish due to possible reset (done)
- [ ] Asserts in test bench (not done)
- [x] correct bit-lengths for transaction length and bit counters (done)
- [x] remove dual clock approach and replace with simple single clock (done)
- [x] make a separate module with built-in clock-divider for the verilator tests (done)
- [ ] check all the reset conditions (not done)
- [x] fix the input shift register shifts when writing out (done)
- [ ] check that SPI modes cannot be changed in the middle of transactions etc (not done)
- [ ] remove unnecessary register (not done)
- [ ] check for unnecessary priority encoders (not done)
- [ ] change the state machine to follow standard pattern (not done)
- [ ] implement and test error detection (not done)
- [ ] bring a busy flag to the fabric domain using a double flop synchronizer (not done)